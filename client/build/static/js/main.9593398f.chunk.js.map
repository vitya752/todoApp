{"version":3,"sources":["components/Header/Header.js","context/NoteContext.js","components/Search/Search.js","components/Filter/Filter.js","components/Navigation/Navigation.js","components/ItemList/ItemList.js","hooks/useHttp.js","components/Loader/Loader.js","components/List/List.js","components/AddItem/AddItem.js","context/AuthContext.js","pages/TodoPage.js","hooks/useMessage.js","pages/AuthPage.js","routes/index.js","hooks/useAuth.js","components/NavBar/NavBar.js","components/App/App.js","hooks/useNote.js","index.js"],"names":["Header","text","className","NoteContext","createContext","Search","useContext","setSearch","search","type","onChange","e","target","value","Filter","filter","setFilter","buttons","name","label","map","classes","key","onClick","Navigation","ItemList","important","done","itemId","pushUpdateNote","deleteNote","useState","stateNote","setStateNote","importantItem","doneItem","updateNote","event","newState","renderButtons","classNames","onClickFunction","fontAwesomeIcon","faExclamation","faCheckSquare","faTrash","item","idx","icon","useHttp","loading","setLoading","error","setError","request","useCallback","url","a","async","method","body","headers","JSON","stringify","fetch","responce","json","data","ok","Error","message","cleanError","Loader","List","allNotes","notes","onSearch","onFilter","length","_id","AddItem","newItem","setNewItem","addNote","disabled","noop","AuthContext","userId","token","ready","login","logout","TodoPage","getNotes","useEffect","useMessage","toast","configure","info","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","AuthPage","email","password","form","setForm","changeHandler","htmlFor","id","placeholder","console","log","routesRender","isAuth","path","exact","to","useAuth","setReady","setUserId","setToken","jwtToken","date","localStorage","setItem","exp","Date","now","removeItem","checkToken","parse","getItem","getToken","NavBar","logouHandler","preventDefault","context","toggleMenu","document","querySelector","classList","toggle","button","addEventListener","this","removeEventListener","data-toggle","data-target","aria-controls","aria-expanded","aria-label","href","Component","contextType","App","setNotes","Authorization","response","arr","toLowerCase","includes","useNote","routes","Provider","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.9593398f.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Header.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nconst Header = ({ text }) => {\r\n    return (\r\n        <h1 className=\"text-center\">{text}</h1>\r\n    );\r\n};\r\n\r\nexport default Header;","import {createContext} from 'react';\r\n\r\nexport const NoteContext = createContext();","import React, { useContext } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { NoteContext } from '../../context/NoteContext';\r\n\r\nconst Search = () => {\r\n\r\n    const {setSearch, search} = useContext(NoteContext);\r\n\r\n    return(\r\n        <div className=\"input-group mb-3\">\r\n            <div className=\"input-group-prepend\">\r\n                <span className=\"input-group-text\">Search</span>\r\n            </div>\r\n            <input \r\n                type=\"text\" \r\n                className=\"form-control\"\r\n                onChange={(e) => { setSearch(e.target.value); }}\r\n                value={search} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Search;","import React, { useContext } from 'react';\r\nimport { NoteContext } from '../../context/NoteContext';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nconst Filter = () => {\r\n\r\n    const {filter, setFilter} = useContext(NoteContext);\r\n\r\n    const filterButtons = [\r\n        { name: 'all', label: 'All' },\r\n        { name: 'active', label: 'Active' },\r\n        { name: 'done', label: 'Done' }\r\n    ];\r\n\r\n    const buttons = filterButtons.map(({name, label}) => {\r\n        const isActive = filter === name;\r\n        const classes = 'btn btn-dark' + (isActive ? ' active' : '');\r\n        return(\r\n            <button \r\n                key={name}\r\n                className={classes}\r\n                onClick={(e) => {\r\n                    if(filter !== name) {\r\n                        setFilter(name);\r\n                    }\r\n                }}>\r\n                {label}\r\n            </button>\r\n        );\r\n    });\r\n    return(\r\n        <div className=\"btn-group mb-3\">\r\n            {buttons}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Filter;","import React from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport Search from '../Search/Search';\r\nimport Filter from '../Filter/Filter';\r\n\r\nconst Navigation = () => {\r\n    return(\r\n        <div className=\"navigation-panel d-flex\">\r\n            <Search />\r\n            <Filter />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Navigation;","import React, { useContext, useState } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './ItemList.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrash, faExclamation, faCheckSquare } from '@fortawesome/free-solid-svg-icons';\r\nimport { NoteContext } from '../../context/NoteContext';\r\n\r\nconst ItemList = ({ text, important, done, itemId }) => {\r\n\r\n    const {pushUpdateNote, deleteNote} = useContext(NoteContext);\r\n    const [stateNote, setStateNote] = useState({\r\n        important,\r\n        done\r\n    });\r\n    const importantItem = stateNote.important ? \"active\" : '';\r\n    const doneItem = stateNote.done ? \"doneItem\" : '';\r\n\r\n    const updateNote = (event) => {\r\n        const newState = {\r\n            ...stateNote,\r\n            [event.target.name]: !stateNote[event.target.name]\r\n        };\r\n        setStateNote(newState);\r\n        pushUpdateNote(itemId, newState);\r\n    };\r\n\r\n    const buttons = [\r\n        { name: \"important\", classNames: \"btn btn-primary\", onClickFunction: updateNote, fontAwesomeIcon: faExclamation },\r\n        { name: \"done\", classNames: \"btn btn-success btn-done\", onClickFunction: updateNote, fontAwesomeIcon: faCheckSquare },\r\n        { classNames: \"btn btn-danger\", onClickFunction: () => { deleteNote(itemId) }, fontAwesomeIcon: faTrash }\r\n    ];\r\n    \r\n    const renderButtons = buttons.map((item, idx) => {\r\n        return(\r\n            <button\r\n                name={item.name}\r\n                type=\"button\"\r\n                className={item.classNames}\r\n                key={idx} \r\n                onClick={item.onClickFunction} >\r\n                <FontAwesomeIcon icon={item.fontAwesomeIcon} />\r\n            </button>\r\n        );\r\n    });\r\n\r\n    return(\r\n        <li\r\n            className={`list-group-item list-group-item--custom ${importantItem} ${doneItem}`} >\r\n            {text}\r\n            <div className=\"float-right buttons-wrap\">\r\n                {renderButtons}\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default ItemList;","import { useState, useCallback } from \"react\";\r\n\r\nexport const useHttp = () => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    \r\n    const request = useCallback(async (url, method = 'GET', body, headers={}) => {\r\n        setLoading(true);\r\n        try {\r\n            if(body) {\r\n                body = JSON.stringify(body);\r\n                headers['Content-Type'] = 'application/json';\r\n            }\r\n\r\n            const responce = await fetch(url, { method, body, headers });\r\n            const data = await responce.json();\r\n\r\n            if(!responce.ok) {\r\n                setLoading(false);\r\n                throw new Error(data.message || 'Запрос не прошел успешно...');\r\n            }\r\n\r\n            setLoading(false);\r\n\r\n            return data;\r\n\r\n        } catch(e) {\r\n            setLoading(false);\r\n            setError(e);\r\n        }\r\n    }, []);\r\n\r\n    const cleanError = () => setError(null);\r\n\r\n    return {\r\n        loading,\r\n        error, \r\n        request,\r\n        cleanError\r\n    }\r\n\r\n};","import React from 'react';\r\nimport './Loader.css';\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className=\"lds-css\">\r\n            <div className=\"lds-double-ring\">\r\n                <div></div>\r\n                <div></div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loader;","import React, { useContext } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport ItemList from '../ItemList/ItemList';\r\nimport { NoteContext } from '../../context/NoteContext';\r\nimport { useHttp } from '../../hooks/useHttp';\r\nimport Loader from '../Loader/Loader';\r\n\r\nconst List = () => {\r\n\r\n    const {loading} = useHttp();\r\n    const {notes: allNotes, onSearch, onFilter} = useContext(NoteContext);\r\n    const notes = onFilter(onSearch(allNotes));\r\n    \r\n    return(\r\n        <div className=\"list-container mb-3\">\r\n            {\r\n                loading ? <Loader />\r\n                : notes.length === 0 ? <span>Списка нет</span> \r\n                :\r\n                <ul className=\"list-group\">\r\n                    {\r\n                        notes.map(({_id, text, important, done}, idx) => {\r\n                            return <ItemList text={text} important={important} done={done} key={_id} itemId={_id} />;\r\n                        })\r\n                    }\r\n                </ul>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default List;","import React, { useContext } from 'react';\r\nimport {useHttp} from '../../hooks/useHttp';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { NoteContext } from '../../context/NoteContext';\r\n\r\nconst AddItem = () => {\r\n\r\n    const {loading} = useHttp();\r\n    const {newItem, setNewItem, addNote} = useContext(NoteContext);\r\n    const disabled = loading ? true : newItem === '' ? true : false;\r\n\r\n    const changeHandler = (e) => {\r\n        setNewItem(e.target.value);\r\n    };\r\n\r\n    return (\r\n        <div className=\"d-flex\">\r\n            <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">New item</span>\r\n                </div>\r\n                <input \r\n                    type=\"text\" \r\n                    className=\"form-control\"\r\n                    onChange={changeHandler}\r\n                    value={newItem}\r\n                    name=\"newItem\"\r\n                     />\r\n            </div>\r\n            <button \r\n                type=\"submit\" \r\n                className=\"btn btn-dark mb-3\"\r\n                disabled={disabled}\r\n                onClick={addNote} \r\n                >\r\n                Add\r\n            </button>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default AddItem;","import {createContext} from 'react';\r\n\r\nconst noop = () => {\r\n\r\n};\r\n\r\nexport const AuthContext = createContext({\r\n    userId: null,\r\n    token: null,\r\n    ready: false,\r\n    login: noop,\r\n    logout: noop\r\n});","import React, { useEffect, useContext } from 'react';\r\nimport Header from '../components/Header/Header';\r\nimport Navigation from '../components/Navigation/Navigation'\r\nimport List from '../components/List/List';\r\nimport AddItem from '../components/AddItem/AddItem';\r\nimport { NoteContext } from '../context/NoteContext';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst TodoPage = () => {\r\n\r\n    const {token} = useContext(AuthContext);\r\n    const {getNotes} = useContext(NoteContext);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            if(token) {\r\n                await getNotes();\r\n            }\r\n        };\r\n        fetchData();\r\n    }, [token, getNotes]);\r\n\r\n    return (\r\n        <>\r\n            <Header text=\"Welcome to my TodoList App\" />\r\n            <Navigation />\r\n            <List />\r\n            <AddItem />\r\n        </>\r\n    )\r\n};\r\n\r\nexport default TodoPage;","import { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useCallback } from 'react';\r\n\r\nexport const useMessage = () => {\r\n    toast.configure();\r\n    return useCallback((text) => {\r\n        return toast.info(text, {\r\n                    position: \"top-right\",\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true\r\n                });\r\n    }, []);\r\n};","import React, { useState, useContext } from 'react';\r\nimport {useHttp} from '../hooks/useHttp';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { useMessage } from '../hooks/useMessage';\r\n\r\nconst AuthPage = () => {\r\n\r\n    const message = useMessage();\r\n    const {request, loading} = useHttp();\r\n    const {login} = useContext(AuthContext);\r\n    \r\n    const [form, setForm] = useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n\r\n    // useEffect(() => {\r\n    //     message(error);\r\n    //     cleanError();\r\n    // }, [error, message, cleanError]);\r\n\r\n    const changeHandler = (event) => {\r\n        setForm({\r\n            ...form,\r\n            [event.target.name]: event.target.value\r\n        });\r\n    };\r\n\r\n    const registerHandler = async () => {\r\n        try {\r\n            if(form.email !== '' && form.password !== '') {\r\n               const data = await request('/api/auth/register', 'POST', {...form});\r\n               message(data.message);\r\n            }\r\n        } catch(e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n\r\n    const loginHandler = async () => {\r\n        try {\r\n            if(form.email !== '' && form.password !== '') {\r\n               const data = await request('/api/auth/login', 'POST', {...form});\r\n               login(data.userId, data.token);\r\n               message(data.message);\r\n            }\r\n        } catch(e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"card\">\r\n            <div className=\"card-body\">\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input \r\n                        type=\"email\" \r\n                        className=\"form-control\" \r\n                        id=\"email\" \r\n                        name=\"email\"\r\n                        placeholder=\"Введите email\"\r\n                        onChange={changeHandler} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Пароль</label>\r\n                    <input \r\n                        type=\"password\" \r\n                        className=\"form-control\" \r\n                        id=\"password\" \r\n                        name=\"password\"\r\n                        placeholder=\"Введите парoль\"\r\n                        onChange={changeHandler} />\r\n                </div>\r\n                <button \r\n                    className=\"btn btn-primary mr-3\"\r\n                    onClick={loginHandler}\r\n                    disabled={loading}\r\n                    >\r\n                    Войти\r\n                </button>\r\n                <button \r\n                    className=\"btn btn-danger\"\r\n                    onClick={registerHandler}\r\n                    disabled={loading}\r\n                    >\r\n                    Регистрация\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default AuthPage;","import React from 'react';\r\nimport {Route, Switch, Redirect} from 'react-router-dom';\r\nimport TodoPage from './../pages/TodoPage';\r\nimport AuthPage from './../pages/AuthPage';\r\n\r\nconst routesRender = (isAuth) => {\r\n    if(isAuth) {\r\n        return (\r\n            <Switch>\r\n                <Route path=\"/todo\" exact>\r\n                    <TodoPage />\r\n                </Route>\r\n                <Redirect to=\"/todo\" />\r\n            </Switch>\r\n        )\r\n    } else {\r\n        return (\r\n            <Switch>\r\n                <Route path=\"/\" exact>\r\n                    <AuthPage />\r\n                </Route>\r\n                <Redirect to=\"/\" />\r\n            </Switch>\r\n        )\r\n    }\r\n};\r\n\r\nexport default routesRender;","import { useState, useEffect, useCallback } from \"react\";\r\n// import { useHttp } from './useHttp';\r\n\r\nexport const useAuth = () => {\r\n\r\n    const userStorage = 'userStorage';\r\n    \r\n    const [ready, setReady] = useState(false);\r\n    const [userId, setUserId] = useState(null);\r\n    const [token, setToken] = useState(null);\r\n\r\n    // const {request} = useHttp();\r\n\r\n    const login = (id, jwtToken, date) => {\r\n        setUserId(id);\r\n        setToken(jwtToken);\r\n        localStorage.setItem(userStorage, JSON.stringify({\r\n            userId: id,\r\n            token: jwtToken,\r\n            exp: date || Date.now() + (60 * 60 * 1000)\r\n        }));\r\n    };\r\n\r\n    const logout = () => {\r\n        setUserId(null);\r\n        setToken(null);\r\n        localStorage.removeItem(userStorage);\r\n    }\r\n\r\n    const checkToken = useCallback(() => {\r\n        const data = JSON.parse(localStorage.getItem(userStorage));\r\n        if(data && data.token) {\r\n            const date = Date.now();\r\n            if(date > data.exp) {\r\n                logout();\r\n            } else {\r\n                // const check = await request('/api/auth/check', 'POST', {id: data.userId, localToken: data.token});\r\n                login(data.userId, data.token, data.exp);\r\n                // console.log(check)\r\n            }\r\n        }\r\n        setReady(true);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        checkToken();\r\n    }, [checkToken]);\r\n\r\n    const getToken = useCallback(() => {\r\n        const data = JSON.parse(localStorage.getItem(userStorage));\r\n\r\n        return data.token;\r\n\r\n    }, []);\r\n\r\n    return {\r\n        login,\r\n        logout,\r\n        userId,\r\n        token,\r\n        ready,\r\n        getToken\r\n    }\r\n\r\n};","import React, { Component } from 'react';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport './NavBar.css';\r\n\r\nexport default class NavBar extends Component {\r\n\r\n    static contextType = AuthContext;\r\n\r\n    logouHandler = (e) => {\r\n        e.preventDefault();\r\n        const {logout} = this.context;\r\n        logout();\r\n    }\r\n\r\n    toggleMenu = () => {\r\n        const menu = document.querySelector('.collapse.navbar-collapse');\r\n        menu.classList.toggle('active');\r\n    }\r\n\r\n    componentDidMount() {\r\n        const button = document.querySelector('.navbar-toggler');\r\n        if(button) {\r\n            button.addEventListener('click', this.toggleMenu);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const button = document.querySelector('.navbar-toggler');\r\n        if(button) {\r\n            button.removeEventListener('click', this.toggleMenu);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n                <span className=\"navbar-brand\">Notes</span>\r\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n                <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n                    <div className=\"navbar-nav ml-auto\">\r\n                        <a \r\n                            className=\"nav-item nav-link\" \r\n                            href=\"/\"\r\n                            onClick={this.logouHandler}\r\n                            >\r\n                            Logout\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        );\r\n    }\r\n}\r\n\r\n// const NavBar = () => {\r\n\r\n//     const logouHandler = (e) => {\r\n//         e.preventDefault();\r\n//         const {logout} = useContext(AuthContext);\r\n//         const history = useHistory();\r\n//         logout();\r\n//         history.push('/');\r\n//     }\r\n\r\n//     return (\r\n//         <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n//             <span className=\"navbar-brand\">Notes</span>\r\n//             <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n//                 <span className=\"navbar-toggler-icon\"></span>\r\n//             </button>\r\n//             <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n//                 <div className=\"navbar-nav ml-auto\">\r\n//                     <a \r\n//                         className=\"nav-item nav-link\" \r\n//                         href=\"/\"\r\n//                         onClick={logouHandler}\r\n//                         >\r\n//                         Logout\r\n//                     </a>\r\n//                 </div>\r\n//             </div>\r\n//         </nav>\r\n//     );\r\n// };\r\n\r\n// export default NavBar;","import React from 'react';\r\nimport './App.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport {BrowserRouter as Router} from 'react-router-dom';\r\nimport routesRender from '../../routes';\r\nimport {AuthContext} from '../../context/AuthContext';\r\nimport {NoteContext} from '../../context/NoteContext';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport { useNote } from '../../hooks/useNote';\r\nimport NavBar from '../NavBar/NavBar';\r\nimport Loader from '../Loader/Loader';\r\n\r\nconst App = () => {\r\n    const {login, logout, userId, token, ready} = useAuth();\r\n    const {\r\n            addNote,\r\n            newItem,\r\n            setNewItem,\r\n            notes, \r\n            setNotes, \r\n            getNotes, \r\n            deleteNote, \r\n            pushUpdateNote, \r\n            search, \r\n            setSearch, \r\n            onSearch, \r\n            filter,\r\n            onFilter, \r\n            setFilter\r\n        } = useNote();\r\n    const routes = routesRender(token ? true : false);\r\n    if(!ready) return <Loader />;\r\n    return (\r\n        <Router>\r\n            <AuthContext.Provider value={{login, logout, userId, token, ready}}>\r\n                <NoteContext.Provider value={\r\n                    {\r\n                        addNote,\r\n                        newItem,\r\n                        setNewItem,\r\n                        notes, \r\n                        setNotes, \r\n                        getNotes, \r\n                        deleteNote, \r\n                        pushUpdateNote, \r\n                        search, \r\n                        setSearch, \r\n                        onSearch, \r\n                        filter,\r\n                        onFilter, \r\n                        setFilter\r\n                    }\r\n                }>\r\n                    {token ? <NavBar /> : null}\r\n                    <div className=\"main-container main-container--dark-bg\">\r\n                        <div className=\"container container--custom\">\r\n                            {routes}\r\n                        </div>\r\n                    </div>\r\n                </NoteContext.Provider>\r\n            </AuthContext.Provider>\r\n        </Router>\r\n    )\r\n};\r\n\r\nexport default App;","import { useState, useCallback } from \"react\"\r\nimport {useHttp} from './useHttp';\r\nimport { useAuth } from \"./useAuth\";\r\nimport { useMessage } from \"./useMessage\";\r\n\r\nexport const useNote = () => {\r\n\r\n    const [notes, setNotes] = useState([]);\r\n    const [newItem, setNewItem] = useState('');\r\n    const [search, setSearch] = useState('');\r\n    const [filter, setFilter] = useState('all');\r\n    const {request} = useHttp();\r\n    const {getToken} = useAuth();\r\n    const message = useMessage();\r\n\r\n    const getNotes = useCallback(async () => {\r\n        try {\r\n            const data = await request('/api/note/', 'POST', null, {\r\n                Authorization: `Bearer ${getToken()}`\r\n            });\r\n    \r\n            if(data) {\r\n                setNotes(data.notes);\r\n            }\r\n        } catch(e) {\r\n            // message(e);\r\n            console.log(e.response);\r\n        }\r\n\r\n    }, [request, getToken]);\r\n\r\n    const addNote = async () => {\r\n        try {\r\n            const data = await request('/api/note/add', 'POST', {text: newItem}, {\r\n                Authorization: `Bearer ${getToken()}`\r\n            });\r\n            if(data) {\r\n                message(data.message);\r\n                await getNotes();\r\n                setNewItem('');\r\n            }\r\n        } catch(e) {\r\n\r\n        }\r\n    };\r\n\r\n    const deleteNote = async (itemId) => {\r\n        try {\r\n            const data = await request('/api/note/delete', 'POST', {itemId}, {\r\n                Authorization: `Bearer ${getToken()}`\r\n            });\r\n            if(data) {\r\n                message(data.message);\r\n                await getNotes();\r\n            }\r\n        } catch(e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n\r\n    const pushUpdateNote = async (itemId, stateNote) => {\r\n        try {\r\n            const data = await request('/api/note/update', 'POST', { itemId, ...stateNote}, {\r\n                Authorization: `Bearer ${getToken()}`\r\n            });\r\n            if(data) {\r\n                message(data.message);\r\n                await getNotes();\r\n            }\r\n        } catch(e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n\r\n    const onSearch = arr => {\r\n        if(search === '') return arr;\r\n        return arr.filter((item) => item.text.toLowerCase().includes(search.toLowerCase()) !== false );\r\n    }\r\n\r\n    const onFilter = (arr) => {\r\n        switch(filter) {\r\n            case 'all':\r\n                return arr;\r\n            case 'active':\r\n                return arr.filter(({ done }) => done !== true);\r\n            case 'done':\r\n                return arr.filter(({ done }) => done === true);\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    return {\r\n        addNote,\r\n        newItem,\r\n        setNewItem,\r\n        getNotes,\r\n        notes,\r\n        setNotes,\r\n        deleteNote,\r\n        pushUpdateNote,\r\n        search,\r\n        setSearch,\r\n        onSearch,\r\n        filter,\r\n        onFilter,\r\n        setFilter\r\n    }\r\n\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// const button = document.getElementsByClassName('navbar-toggler')[0];\n// button.addEventListener('click', () => {\n//     const menu = document.getElementsByClassName('navbar-collapse')[0];\n//     menu.classList.toggle('active');\n// });"],"sourceRoot":""}